{{ define "main" }}
<div id="wrapper">
  <main id="layout_page">
    <article style="margin-bottom: 1rem;">
      <header>
        <h1
          style="
                    margin: 0;
                    font-size: 1.8em;
                "
        >
          {{.Title}}
        </h1>
      </header>
      <!-- "{{.Content}}" pulls from the markdown content of the corresponding _index.md -->
      {{.Content}}
    </article>

    <div style="padding: 0;">
      <!-- Ranges through content/posts/*.md -->
      <!-- -->
      {{ range .Pages }}
      <!-- -->
      {{ .Scratch.Set "date" (.Date.Format "January 2, 2006" | upper) }}
      <!-- -->
      {{ .Scratch.Set "prevdate" "" }}
      <!-- -->
      {{ .Scratch.Set "writedate" true }}
      <!-- -->
      {{ if .NextInSection }}
      <!-- -->
      {{ .Scratch.Set "prevdate" (.NextInSection.Date.Format "January 2, 2006" | upper) }}
      <!-- -->
      {{ end }}
      <!-- -->

      {{ if eq (.Scratch.Get "prevdate") (.Scratch.Get "date") }}
      <!-- -->
      {{ .Scratch.Set "writedate" false }}
      <!-- -->
      {{ else }}
      <!-- -->
      {{ .Scratch.Set "writedate" true }}
      <!-- -->
      {{ end }}
      <!-- -->
      {{ if eq (.Scratch.Get "writedate") true }}
      <div
        style="
          font-size: 0.8em;
          font-weight: bold;
          margin: 1rem 0 0.5rem 0;
          line-height: 1;
          color: #4db7b7;
        "
      >
        {{ .Scratch.Get "date" | upper }}
      </div>
      {{ end }}
      <a
        class="title-font"
        style="
                text-decoration: none;
                border: none;
                display: block;
                line-height: 1.4;
                font-weight: bold;
            "
        href="{{.Permalink}}"
        >{{ .Title }}</a
      >
      {{ end }}
    </div>
  </main>
</div>
{{ end }}
